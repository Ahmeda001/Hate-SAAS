{% extends "layout.html" %} {% load static %} {% block title %}Free Text
Analysis{% endblock %} {% block extra_head %}
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>

{% endblock %} {% block content %}

{% if message %}
<div class="w-full p-4 mb-6 text-center rounded-lg border-2 border-red-500 bg-red-100 text-red-800 font-bold text-lg">
    {{ message }}
</div>
{% endif %}



<div class="fixed inset-0 pointer-events-none z-0">
  <div
    class="absolute top-1/4 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"
  ></div>
  <div
    class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-pulse"
    style="animation-delay: 2s"
  ></div>
</div>
<div
  class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 min-h-screen"
>
  <div class="max-w-7xl mx-auto px-6 py-8">
    <!-- Header -->
    <div class="text-center mb-10">
      <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">
        Free Text Analysis
      </h1>
      <p class="text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
        Detect hate speech with AI ‚Äî <strong>Free for basic use</strong>.
        Upgrade for advanced features.
      </p>
      <div class="mt-6">
        <a
          href="#"
          class="inline-block text-white px-6 py-3 rounded-full font-semibold hover:shadow-lg transition-all transform hover:scale-105 hover:opacity-90  text-lg bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-700 hover:to-indigo-600 dark:from-indigo-500 dark:to-blue-500 dark:hover:from-blue-500 dark:hover:to-blue-400 shadow-lg hover-scale duration-300 "
            >
          Upgrade to Pro
        </a>
      </div>
    </div>


    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
      <!-- Input Section -->
      <div
        class="rounded-3xl p-8 border border-gray-200 bg-white/40 dark:border-white/10 dark:bg-white/8 backdrop-blur-lg"
      >
        <!-- content -->

        <div class="mb-6">
          <h2
            class="text-xl font-semibold text-gray-800 dark:text-white flex items-center"
          >
            <i class="fas fa-edit text-primary mr-3"></i>
            Text Input
          </h2>
          <p class="text-sm text-gray-500 dark:text-gray-300">
            Enter up to 500 characters for analysis
          </p>
        </div>

        <form method="post">
          {% csrf_token %}
          <div class="relative">
            <textarea
              name="text"
              placeholder="Enter your text here..."
              class="w-full h-56 px-4 py-3 bg-white/40 dark:bg-gray-700/20 border border-gray-300 dark:border-white/10 rounded-2xl text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-white/50 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-lg transition-all duration-300"
              maxlength="500"
            >
{{ request.POST.text }}</textarea
            >
            <div
              class="absolute bottom-2 right-3 text-sm text-gray-600 dark:text-white/50"
            >
              {{ request.POST.text|length|default:0 }} / 500
            </div>
          </div>

          <div class="mt-5">
            <label
              class="text-base font-semibold text-gray-900 dark:text-white mb-2 flex items-center"
            >
              <i class="fas fa-cogs text-blue-600 dark:text-blue-400 mr-3"></i>
              Detection Model
            </label>
            <select
              class="w-full px-5 py-3 bg-white/40 dark:bg-gray-700/20 border border-gray-300 dark:border-white/10 rounded-2xl text-gray-900 dark:text-white text-base focus:outline-none focus:ring-2 focus:ring-blue-500 backdrop-blur-lg"
              disabled
            >
              <option value="fast">Fast Detection (Free)</option>
            </select>
            <p class="text-sm text-gray-700 dark:text-gray-300 mt-2">
              Upgrade to unlock Precision, Contextual & Multi-Model AI
            </p>
          </div>

          <div class="mt-5">
            <label
              class="text-sm font-medium text-gray-900 dark:text-white mb-1 flex items-center"
            >
              <i
                class="fas fa-language text-teal-600 dark:text-teal-400 mr-2"
              ></i>
              Language
            </label>
            <select
              class="w-full px-4 py-2 bg-white/40 dark:bg-gray-700/20 border border-gray-300 dark:border-white/10 rounded-2xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 backdrop-blur-lg"
              disabled
            >
              <option value="en">English Only (Free)</option>
            </select>
          </div>

          <button
            type="submit"
            class="w-full px-5 my-5 py-3 text-white font-medium rounded-2xl shadow-lg flex items-center justify-center gradient-bg text-lg hover:shadow-lg transition-all transform hover:scale-105 hover:opacity-90   bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-700 hover:to-indigo-600 dark:from-indigo-500 dark:to-blue-500 dark:hover:from-blue-500 dark:hover:to-blue-400  hover-scale duration-300 "
          >
            <i class="fas fa-magnifying-glass mr-2"></i>
            Analyze Text
          </button>
        </form>
      </div>

      <!-- Results Section -->
      <div
        class="rounded-3xl p-8 border border-gray-200 bg-white/40 dark:border-white/10 dark:bg-white/8 backdrop-blur-lg"
      >
        <div class="mb-6">
          <h2
            class="text-xl font-semibold text-gray-900 dark:text-white flex items-center"
          >
            <i
              class="fas fa-chart-line text-green-600 dark:text-green-500 mr-2"
            ></i>
            Results
          </h2>
          <p class="text-sm text-gray-700 dark:text-gray-300">
            Free version shows basic classification
          </p>
        </div>

        {% if result %}
        <div class="space-y-5">
          <div
            class="p-5 rounded-2xl border border-gray-300 dark:border-white/20 {% if result.probability >= 0.5 %}bg-red-50/40 dark:bg-red-900/30{% else %}bg-green-50/40 dark:bg-green-900/30{% endif %} backdrop-blur-lg"
          >
            <!-- Prediction Text -->
            <div class="flex items-center justify-between mb-4">
              <span
                class="text-lg font-bold {% if result.probability >= 0.5 %}text-red-700 dark:text-red-300{% else %}text-green-700 dark:text-green-300{% endif %}"
              >
                {{ result.label }}
              </span>
              <span
                class="text-xl font-bold {% if result.probability >= 0.5 %}text-red-700 dark:text-red-300{% else %}text-green-700 dark:text-green-300{% endif %}"
              >
                {{ result.probability|floatformat:2 }}
              </span>
            </div>

            <!-- Probability Bar -->
            <div
              class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-3 overflow-hidden mb-3"
            >
              <div
                class="{% if result.probability >= 0.5 %}bg-red-500{% else %}bg-green-500{% endif %} h-3"
                style="width: {{ result.probability_percent|floatformat:0 }}%;"
              ></div>
            </div>

            <!-- Message -->
            <div
              class="text-sm font-medium {% if result.probability >= 0.5 %}text-red-800 dark:text-red-300{% else %}text-green-800 dark:text-green-300{% endif %}"
            >
              {% if result.probability >= 0.5 %} ‚ö†Ô∏è Harmful content detected ‚Äî
              please review before publishing. {% else %} ‚úÖ No harmful content
              detected ‚Äî safe to publish. {% endif %}
            </div>

            <!-- Extra Encouragement -->
            <p class="mt-3 text-xs text-gray-700 dark:text-gray-400 italic">
              AI Guardian tip: Even safe results should be reviewed by a human
              before posting online.
            </p>
          </div>
          {% if result.scan_id %}
      <p>Was this prediction helpful?</p>
      <form method="post" action="{% url 'give_feedback' %}">
        {% csrf_token %}
        <input type="hidden" name="scan_id" value="{{ result.scan_id }}">
        <button type="submit" name="feedback" value="true"class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-700 transition-colors hover:scale-105 mr-2">
          üëç Yes
        </button>
        <button type="submit" name="feedback" value="false"class="px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-700 hover:scale-105 transition-colors">
          üëé No
        </button>
      </form>
    {% endif %}
        </div>
        {% else %}
        <div class="text-center py-20">
          <div
            class="w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center text-2xl text-gray-400"
          >
            <i class="fas fa-brain"></i>
          </div>
          <p class="text-gray-700 dark:text-gray-400 text-sm">
            Enter text to analyze
          </p>
        </div>
        {% endif %}
      </div>
    </div>

    

    <div
      class="bg-white dark:bg-gray-800 rounded-2xl p-10 shadow-lg mb-12 animate-slide-up"
      style="animation-delay: 0.7s"
    >
      <h3
        class="text-3xl font-bold text-gray-900 dark:text-white mb-6 text-center"
      >
        Want More Features?
      </h3>
      <p class="text-lg text-gray-700 dark:text-gray-300 mb-8 text-center">
        Upgrade to Standard or Pro for longer texts, multiple languages, and
        real-time analysis.
      </p>
      <div class="flex flex-wrap justify-center gap-8 mb-8">
        <div
          class="text-center px-8 py-6 bg-gray-50 dark:bg-gray-700/50 rounded-xl min-w-[140px]"
        >
          <div class="text-3xl font-bold text-teal-600 dark:text-teal-400">
            2K
          </div>
          <div class="text-sm text-gray-500 dark:text-gray-400">Max Length</div>
        </div>
        <div
          class="text-center px-8 py-6 bg-gray-50 dark:bg-gray-700/50 rounded-xl min-w-[140px]"
        >
          <div class="text-3xl font-bold text-green-600 dark:text-green-400">
            4
          </div>
          <div class="text-sm text-gray-500 dark:text-gray-400">Languages</div>
        </div>
        <div
          class="text-center px-8 py-6 bg-gray-50 dark:bg-gray-700/50 rounded-xl min-w-[140px]"
        >
          <div class="text-2xl font-bold text-yellow-600 dark:text-yellow-400">
            Real-time
          </div>
          <div class="text-sm text-gray-500 dark:text-gray-400">Analysis</div>
        </div>
      </div>
      <div class="text-center">
        <a
          href="#"
          class="px-8 py-3 gradient-bg text-white rounded-full font-semibold inline-block text-l hover:shadow-lg transition-all transform hover:scale-105 hover:opacity-90  text-lg bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-700 hover:to-indigo-600 dark:from-indigo-500 dark:to-blue-500 dark:hover:from-blue-500 dark:hover:to-blue-400 shadow-lg hover-scale duration-300 "
        >
          Upgrade Now
        </a>
      </div>
    </div>

    <!-- Features -->
    <div
      class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md animate-slide-up"
      style="animation-delay: 0.9s"
    >
      <h3
        class="text-lg font-semibold text-gray-900 dark:text-white mb-5 flex items-center"
      >
        <i class="fas fa-star text-blue-500 mr-2"></i>
        Free Version Features
      </h3>
      <div class="space-y-3">
        <div
          class="flex items-center space-x-3 text-gray-700 dark:text-gray-300"
        >
          <i class="fas fa-check-circle text-green-500"></i>
          <span>Fast hate speech detection (1 model)</span>
        </div>
        <div
          class="flex items-center space-x-3 text-gray-700 dark:text-gray-300"
        >
          <i class="fas fa-check-circle text-green-500"></i>
          <span>Up to 500 characters</span>
        </div>
        <div
          class="flex items-center space-x-3 text-gray-700 dark:text-gray-300"
        >
          <i class="fas fa-check-circle text-green-500"></i>
          <span>English language only</span>
        </div>
        <div
          class="flex items-center space-x-3 text-gray-500 dark:text-gray-500"
        >
          <i class="fas fa-lock"></i>
          <span>Multi-language support <span class="text-xs">(Pro)</span></span>
        </div>
        <div
          class="flex items-center space-x-3 text-gray-500 dark:text-gray-500"
        >
          <i class="fas fa-lock"></i>
          <span
            >Contextual understanding <span class="text-xs">(Pro)</span></span
          >
        </div>
        <div
          class="flex items-center space-x-3 text-gray-500 dark:text-gray-500"
        >
          <i class="fas fa-lock"></i>
          <span>Export & API access <span class="text-xs">(Pro)</span></span>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
