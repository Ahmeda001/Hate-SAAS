<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Sentinel | Advanced Hate Speech Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    animation: {
                        'fadeInUp': 'fadeInUp 0.6s ease-out',
                        'neural-pulse': 'neuralPulse 2s ease-in-out infinite',
                        'data-flow': 'dataFlow 3s linear infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                        'matrix': 'matrix 20s linear infinite',
                        'scan': 'scan 2s ease-in-out infinite',
                        'hologram': 'hologram 4s ease-in-out infinite',
                        'float': 'float 6s ease-in-out infinite'
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(30px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        neuralPulse: {
                            '0%, 100%': { transform: 'scale(1)', opacity: '0.7' },
                            '50%': { transform: 'scale(1.1)', opacity: '1' }
                        },
                        dataFlow: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(100%)' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 5px #3b82f6, 0 0 10px #3b82f6, 0 0 15px #3b82f6' },
                            '100%': { boxShadow: '0 0 10px #6366f1, 0 0 20px #6366f1, 0 0 30px #6366f1' }
                        },
                        matrix: {
                            '0%': { transform: 'translateY(-100%)' },
                            '100%': { transform: 'translateY(100vh)' }
                        },
                        scan: {
                            '0%': { transform: 'translateY(-100%)' },
                            '100%': { transform: 'translateY(100%)' }
                        },
                        hologram: {
                            '0%, 100%': { opacity: '0.8', filter: 'hue-rotate(0deg)' },
                            '50%': { opacity: '1', filter: 'hue-rotate(90deg)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .cyber-grid {
            background-image: 
                linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: matrix 20s linear infinite;
        }
        
        .neural-bg {
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%),
                linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
        }
        
        .holographic {
            background: linear-gradient(45deg, 
                rgba(255, 0, 150, 0.1) 0%, 
                rgba(0, 255, 255, 0.1) 25%, 
                rgba(255, 255, 0, 0.1) 50%, 
                rgba(255, 0, 150, 0.1) 75%, 
                rgba(0, 255, 255, 0.1) 100%);
            background-size: 200% 200%;
            animation: hologram 4s ease-in-out infinite;
        }
        
        .glass-advanced {
            backdrop-filter: blur(25px) saturate(180%);
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .neural-node {
            position: relative;
            overflow: hidden;
        }
        
        .neural-node::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.4), transparent);
            animation: scan 2s infinite;
        }
        
        .data-stream {
            position: absolute;
            width: 2px;
            height: 20px;
            background: linear-gradient(to bottom, transparent, #3b82f6, transparent);
            animation: dataFlow 3s linear infinite;
        }
        
        .threat-indicator {
            position: relative;
            overflow: hidden;
        }
        
        .threat-indicator::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(239, 68, 68, 0.1) 50%, transparent 70%);
            animation: scan 1.5s infinite;
        }
        
        .quantum-border {
            position: relative;
        }
        
        .quantum-border::before {
            content: '';
            position: absolute;
            inset: 0;
            padding: 2px;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #06b6d4, #3b82f6);
            border-radius: inherit;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            animation: glow 2s ease-in-out infinite alternate;
        }
    </style>
</head>
<body class="min-h-screen neural-bg cyber-grid overflow-x-hidden">
    <!-- Floating Particles -->
    <div id="particles" class="fixed inset-0 pointer-events-none z-0"></div>
    
    <!-- Advanced Navigation -->
    <nav class="relative z-10 glass-advanced border-b border-white/10">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-400 via-purple-500 to-cyan-400 rounded-xl flex items-center justify-center animate-neural-pulse">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                            </svg>
                        </div>
                        <div class="absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full animate-pulse border-2 border-white"></div>
                    </div>
                    <div>
                        <span class="text-white font-bold text-xl bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent">Neural Sentinel</span>
                        <div class="text-xs text-blue-300">v3.0 Quantum Edition</div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="hidden md:flex items-center space-x-6 text-sm">
                        <div class="flex items-center space-x-2 text-green-400">
                            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                            <span>AI Systems Online</span>
                        </div>
                        <div class="text-blue-300">Models: 12/12 Active</div>
                        <div class="text-purple-300">Quantum Core: Stable</div>
                    </div>
                    
                    <button class="p-2 rounded-lg glass-advanced hover:bg-white/10 text-white transition-all quantum-border">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 2L3 7v11a1 1 0 001 1h12a1 1 0 001-1V7l-7-5z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="relative z-10 max-w-7xl mx-auto px-6 py-8">
        <!-- Advanced Header -->
        <div class="text-center mb-12">
            <div class="relative inline-block">
                <h1 class="text-6xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-500 to-cyan-400 mb-4 animate-fadeInUp">
                    NEURAL SENTINEL
                </h1>
                <div class="absolute inset-0 blur-3xl bg-gradient-to-r from-blue-400/30 via-purple-500/30 to-cyan-400/30 animate-pulse"></div>
            </div>
            <div class="flex items-center justify-center space-x-4 text-lg text-blue-200 mb-6">
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                    <span>Quantum AI Processing</span>
                </div>
                <div class="w-1 h-1 bg-blue-400 rounded-full"></div>
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-blue-400 rounded-full animate-pulse"></div>
                    <span>Real-time Threat Analysis</span>
                </div>
                <div class="w-1 h-1 bg-blue-400 rounded-full"></div>
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-purple-400 rounded-full animate-pulse"></div>
                    <span>Multi-dimensional Scanning</span>
                </div>
            </div>
        </div>

        <!-- Advanced Control Panel -->
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8">
            <!-- Input Matrix -->
            <div class="xl:col-span-2 glass-advanced rounded-3xl p-8 border border-white/10 quantum-border">
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-white mb-2 flex items-center">
                            <div class="w-6 h-6 mr-3 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full animate-neural-pulse"></div>
                            Neural Input Matrix
                        </h2>
                        <p class="text-blue-200">Advanced multi-dimensional text analysis system</p>
                    </div>
                    <div class="text-green-400 text-sm">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                            <span>Quantum Ready</span>
                        </div>
                    </div>
                </div>

                <div id="results" class="hidden">
                    <!-- Advanced Results will be populated here -->
                </div>
            </div>
        </div>

        <!-- Advanced Testing Suite -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Quantum Test Scenarios -->
            <div class="glass-advanced rounded-2xl p-6 border border-white/10">
                <h3 class="text-xl font-bold text-white mb-6 flex items-center">
                    <svg class="w-5 h-5 mr-2 text-yellow-400 animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 7.172V5L8 4z"/>
                    </svg>
                    Quantum Test Scenarios
                </h3>
                <div class="grid grid-cols-1 gap-3">
                    <button class="example-btn p-4 bg-gradient-to-r from-green-500/10 to-emerald-500/10 hover:from-green-500/20 hover:to-emerald-500/20 rounded-xl text-left transition-all border border-green-500/20 hover:border-green-500/40 group" data-text="This community event brings people together to celebrate our diversity and shared values. Everyone is welcome!" data-type="safe">
                        <div class="flex items-center justify-between mb-2">
                            <div class="text-green-400 font-semibold flex items-center">
                                <div class="w-3 h-3 bg-green-400 rounded-full mr-2 animate-pulse"></div>
                                ✨ Positive Community Message
                            </div>
                            <div class="text-green-300 text-sm opacity-0 group-hover:opacity-100 transition-opacity">Safe Content</div>
                        </div>
                        <div class="text-sm text-blue-200">Inclusive, welcoming language promoting unity</div>
                    </button>
                    
                    <button class="example-btn p-4 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 hover:from-yellow-500/20 hover:to-orange-500/20 rounded-xl text-left transition-all border border-yellow-500/20 hover:border-yellow-500/40 group" data-text="I strongly disagree with this policy decision, but I respect that others may have different perspectives based on their experiences." data-type="neutral">
                        <div class="flex items-center justify-between mb-2">
                            <div class="text-yellow-400 font-semibold flex items-center">
                                <div class="w-3 h-3 bg-yellow-400 rounded-full mr-2 animate-pulse"></div>
                                🤔 Constructive Disagreement
                            </div>
                            <div class="text-yellow-300 text-sm opacity-0 group-hover:opacity-100 transition-opacity">Neutral Tone</div>
                        </div>
                        <div class="text-sm text-blue-200">Respectful opposition with acknowledgment of other viewpoints</div>
                    </button>
                    
                    <button class="example-btn p-4 bg-gradient-to-r from-orange-500/10 to-red-500/10 hover:from-orange-500/20 hover:to-red-500/20 rounded-xl text-left transition-all border border-orange-500/20 hover:border-orange-500/40 group" data-text="I absolutely hate it when people don't clean up after their dogs in the park. It's so frustrating and inconsiderate!" data-type="contextual">
                        <div class="flex items-center justify-between mb-2">
                            <div class="text-orange-400 font-semibold flex items-center">
                                <div class="w-3 h-3 bg-orange-400 rounded-full mr-2 animate-pulse"></div>
                                ⚠️ Contextual Language
                            </div>
                            <div class="text-orange-300 text-sm opacity-0 group-hover:opacity-100 transition-opacity">Context Matters</div>
                        </div>
                        <div class="text-sm text-blue-200">Contains 'hate' but directed at behavior, not people</div>
                    </button>
                    
                    <button class="example-btn p-4 bg-gradient-to-r from-red-500/10 to-pink-500/10 hover:from-red-500/20 hover:to-pink-500/20 rounded-xl text-left transition-all border border-red-500/20 hover:border-red-500/40 group threat-indicator" data-text="Those people are destroying our society and we need to stop them before they ruin everything for decent folks like us." data-type="concerning">
                        <div class="flex items-center justify-between mb-2">
                            <div class="text-red-400 font-semibold flex items-center">
                                <div class="w-3 h-3 bg-red-400 rounded-full mr-2 animate-pulse"></div>
                                🚨 Potential Threat Pattern
                            </div>
                            <div class="text-red-300 text-sm opacity-0 group-hover:opacity-100 transition-opacity">High Risk</div>
                        </div>
                        <div class="text-sm text-blue-200">Divisive language with us-vs-them framing</div>
                    </button>
                </div>
            </div>

            <!-- Neural Network Visualization -->
            <div class="glass-advanced rounded-2xl p-6 border border-white/10">
                <h3 class="text-xl font-bold text-white mb-6 flex items-center">
                    <svg class="w-5 h-5 mr-2 text-purple-400 animate-neural-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                    </svg>
                    Live Neural Activity
                </h3>
                <div class="relative h-64 bg-black/20 rounded-xl overflow-hidden border border-blue-500/20">
                    <canvas id="neuralNetwork" class="w-full h-full"></canvas>
                    <div class="absolute top-4 left-4 text-xs text-blue-300">
                        <div class="flex items-center space-x-2 mb-1">
                            <div class="w-2 h-2 bg-blue-400 rounded-full animate-pulse"></div>
                            <span>Input Layer: 512 nodes</span>
                        </div>
                        <div class="flex items-center space-x-2 mb-1">
                            <div class="w-2 h-2 bg-purple-400 rounded-full animate-pulse"></div>
                            <span>Hidden Layers: 8x256 nodes</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-cyan-400 rounded-full animate-pulse"></div>
                            <span>Output Layer: 12 classes</span>
                        </div>
                    </div>
                    <div id="neuralStats" class="absolute bottom-4 right-4 text-xs text-cyan-300">
                        <div>Activations: 0</div>
                        <div>Gradient Flow: Idle</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Advanced State Management
        class NeuralSentinel {
            constructor() {
                this.isAnalyzing = false;
                this.neuralNetwork = null;
                this.particles = [];
                this.initializeSystem();
            }

            initializeSystem() {
                this.setupEventListeners();
                this.initializeParticles();
                this.initializeNeuralViz();
                this.startSystemMonitoring();
            }

            setupEventListeners() {
                // Text input with real-time analysis
                const textInput = document.getElementById('textInput');
                const charCount = document.getElementById('charCount');
                const wordCount = document.getElementById('wordCount');
                const sentenceCount = document.getElementById('sentenceCount');

                textInput.addEventListener('input', (e) => {
                    const text = e.target.value;
                    const chars = text.length;
                    const words = text.trim() ? text.trim().split(/\s+/).length : 0;
                    const sentences = text.trim() ? text.split(/[.!?]+/).filter(s => s.trim()).length : 0;

                    charCount.textContent = `${chars} / 10,000`;
                    wordCount.textContent = `Words: ${words}`;
                    sentenceCount.textContent = `Sentences: ${sentences}`;

                    if (chars > 9000) {
                        charCount.classList.add('text-red-400');
                    } else {
                        charCount.classList.remove('text-red-400');
                    }

                    // Real-time neural activity simulation
                    this.updateNeuralActivity(chars > 0);
                });

                // Sensitivity slider
                const sensitivitySlider = document.getElementById('sensitivitySlider');
                const sensitivityValue = document.getElementById('sensitivityValue');
                
                sensitivitySlider.addEventListener('input', (e) => {
                    sensitivityValue.textContent = `${e.target.value}%`;
                });

                // Voice input (simulated)
                document.getElementById('voiceInput').addEventListener('click', () => {
                    this.simulateVoiceInput();
                });

                // Paste button
                document.getElementById('pasteBtn').addEventListener('click', async () => {
                    try {
                        const text = await navigator.clipboard.readText();
                        textInput.value = text;
                        textInput.dispatchEvent(new Event('input'));
                    } catch (err) {
                        console.log('Clipboard access not available');
                    }
                });

                // Example buttons
                document.querySelectorAll('.example-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        textInput.value = btn.dataset.text;
                        textInput.dispatchEvent(new Event('input'));
                        textInput.focus();
                    });
                });

                // Form submission
                document.getElementById('analysisForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.performAnalysis();
                });
            }

            initializeParticles() {
                const particlesContainer = document.getElementById('particles');
                
                for (let i = 0; i < 50; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'absolute w-1 h-1 bg-blue-400 rounded-full opacity-30';
                    particle.style.left = `${Math.random() * 100}%`;
                    particle.style.top = `${Math.random() * 100}%`;
                    particle.style.animationDelay = `${Math.random() * 10}s`;
                    particle.style.animation = `float ${5 + Math.random() * 10}s ease-in-out infinite`;
                    particlesContainer.appendChild(particle);
                }
            }

            initializeNeuralViz() {
                const canvas = document.getElementById('neuralViz');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                
                // Draw idle neural network
                this.drawNeuralNetwork(ctx, canvas.width, canvas.height, false);
            }

            drawNeuralNetwork(ctx, width, height, active = false) {
                ctx.clearRect(0, 0, width, height);
                
                // Create nodes
                const layers = [8, 12, 8, 4];
                const layerSpacing = width / (layers.length + 1);
                
                layers.forEach((nodeCount, layerIndex) => {
                    const x = layerSpacing * (layerIndex + 1);
                    const nodeSpacing = height / (nodeCount + 1);
                    
                    for (let nodeIndex = 0; nodeIndex < nodeCount; nodeIndex++) {
                        const y = nodeSpacing * (nodeIndex + 1);
                        
                        // Draw connections to next layer
                        if (layerIndex < layers.length - 1) {
                            const nextLayerNodeCount = layers[layerIndex + 1];
                            const nextX = layerSpacing * (layerIndex + 2);
                            const nextNodeSpacing = height / (nextLayerNodeCount + 1);
                            
                            for (let nextNodeIndex = 0; nextNodeIndex < nextLayerNodeCount; nextNodeIndex++) {
                                const nextY = nextNodeSpacing * (nextNodeIndex + 1);
                                
                                ctx.beginPath();
                                ctx.moveTo(x, y);
                                ctx.lineTo(nextX, nextY);
                                ctx.strokeStyle = active ? 
                                    `rgba(59, 130, 246, ${0.2 + Math.random() * 0.3})` : 
                                    'rgba(59, 130, 246, 0.1)';
                                ctx.lineWidth = active ? Math.random() * 2 : 0.5;
                                ctx.stroke();
                            }
                        }
                        
                        // Draw node
                        ctx.beginPath();
                        ctx.arc(x, y, active ? 3 + Math.random() * 2 : 2, 0, Math.PI * 2);
                        ctx.fillStyle = active ? 
                            `rgba(99, 102, 241, ${0.7 + Math.random() * 0.3})` : 
                            'rgba(99, 102, 241, 0.5)';
                        ctx.fill();
                    }
                });
            }

            updateNeuralActivity(active) {
                const canvas = document.getElementById('neuralViz');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                this.drawNeuralNetwork(ctx, canvas.width, canvas.height, active);
                
                const stats = document.getElementById('neuralStats');
                if (stats && active) {
                    stats.innerHTML = `
                        <div>Activations: ${Math.floor(Math.random() * 1000)}</div>
                        <div>Gradient Flow: Active</div>
                    `;
                }
            }

            simulateVoiceInput() {
                const textInput = document.getElementById('textInput');
                const sampleTexts = [
                    "I'm testing the voice input feature of this neural system.",
                    "This is an amazing AI-powered hate speech detection tool.",
                    "Voice input makes it easier to test different scenarios."
                ];
                
                textInput.value = sampleTexts[Math.floor(Math.random() * sampleTexts.length)];
                textInput.dispatchEvent(new Event('input'));
            }

            async performAnalysis() {
                if (this.isAnalyzing) return;
                
                const textInput = document.getElementById('textInput');
                const text = textInput.value.trim();
                
                if (!text) {
                    alert('Please enter text to analyze');
                    return;
                }

                this.isAnalyzing = true;
                this.showLoadingState();
                
                // Simulate advanced analysis process
                await this.simulateQuantumAnalysis(text);
                
                this.isAnalyzing = false;
            }

            showLoadingState() {
                document.getElementById('noResults').classList.add('hidden');
                document.getElementById('results').classList.add('hidden');
                document.getElementById('loadingState').classList.remove('hidden');
                
                const steps = [
                    { name: 'Quantum preprocessing', duration: 800 },
                    { name: 'Tokenization & embedding', duration: 600 },
                    { name: 'Neural pattern recognition', duration: 1000 },
                    { name: 'Contextual analysis', duration: 700 },
                    { name: 'Threat classification', duration: 500 },
                    { name: 'Confidence calculation', duration: 400 }
                ];
                
                this.animateProcessingSteps(steps);
            }

            async animateProcessingSteps(steps) {
                const stepsContainer = document.getElementById('processingSteps');
                const progressEl = document.getElementById('processingProgress');
                const stageEl = document.getElementById('processingStage');
                
                stepsContainer.innerHTML = '';
                
                for (let i = 0; i < steps.length; i++) {
                    const step = steps[i];
                    const stepEl = document.createElement('div');
                    stepEl.className = 'flex items-center space-x-3 p-3 bg-black/20 rounded-lg border border-blue-500/20';
                    stepEl.innerHTML = `
                        <div class="w-3 h-3 bg-blue-400 rounded-full animate-pulse"></div>
                        <span class="text-blue-200 flex-1">${step.name}</span>
                        <div class="text-cyan-400 text-sm">Processing...</div>
                    `;
                    stepsContainer.appendChild(stepEl);
                    
                    stageEl.textContent = step.name;
                    progressEl.textContent = `${Math.round(((i + 1) / steps.length) * 100)}%`;
                    
                    await new Promise(resolve => setTimeout(resolve, step.duration));
                    
                    // Mark as complete
                    stepEl.innerHTML = `
                        <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                        <span class="text-green-200 flex-1">${step.name}</span>
                        <div class="text-green-400 text-sm">✓ Complete</div>
                    `;
                }
                
                stageEl.textContent = 'Analysis complete!';
                progressEl.textContent = '100%';
                
                // Show results after a brief delay
                setTimeout(() => {
                    this.showResults();
                }, 500);
            }

            async simulateQuantumAnalysis(text) {
                // Simulate quantum-level analysis
                return new Promise(resolve => {
                    setTimeout(resolve, 4000);
                });
            }

            showResults() {
                const textInput = document.getElementById('textInput');
                const text = textInput.value.trim().toLowerCase();
                
                // Advanced threat assessment
                const threatAnalysis = this.performThreatAnalysis(text);
                
                document.getElementById('loadingState').classList.add('hidden');
                document.getElementById('results').innerHTML = this.generateAdvancedResults(threatAnalysis);
                document.getElementById('results').classList.remove('hidden');
            }

            performThreatAnalysis(text) {
                // Sophisticated threat pattern detection
                const patterns = {
                    hate: /\b(hate|despise|loathe)\b/gi,
                    violence: /\b(kill|destroy|attack|violence)\b/gi,
                    discrimination: /\b(those people|they are|inferior|superior)\b/gi,
                    positive: /\b(love|wonderful|great|amazing|respect|diversity|inclusion)\b/gi,
                    constructive: /\b(disagree|perspective|opinion|viewpoint)\b/gi
                };
                
                const scores = {};
                let totalMatches = 0;
                
                for (const [category, pattern] of Object.entries(patterns)) {
                    const matches = (text.match(pattern) || []).length;
                    scores[category] = matches;
                    totalMatches += matches;
                }
                
                // Calculate threat level
                const threatScore = (scores.hate * 0.3 + scores.violence * 0.4 + scores.discrimination * 0.3) * 10;
                const positiveScore = (scores.positive * 0.4 + scores.constructive * 0.3) * 8;
                const finalScore = Math.max(0, Math.min(100, threatScore - positiveScore + Math.random() * 20));
                
                let threatLevel = 'LOW';
                let threatColor = 'green';
                
                if (finalScore > 70) {
                    threatLevel = 'HIGH';
                    threatColor = 'red';
                } else if (finalScore > 40) {
                    threatLevel = 'MEDIUM';
                    threatColor = 'yellow';
                }
                
                return {
                    score: finalScore,
                    level: threatLevel,
                    color: threatColor,
                    confidence: 85 + Math.random() * 14,
                    patterns: scores,
                    wordCount: text.split(/\s+/).length,
                    processingTime: (1.2 + Math.random() * 0.8).toFixed(2)
                };
            }

            generateAdvancedResults(analysis) {
                const { score, level, color, confidence, patterns, wordCount, processingTime } = analysis;
                
                return `
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Main Threat Assessment -->
                        <div class="lg:col-span-2 space-y-6">
                            <!-- Primary Analysis Card -->
                            <div class="glass-advanced rounded-2xl p-6 border border-white/10 quantum-border">
                                <div class="flex items-center justify-between mb-6">
                                    <div class="flex items-center space-x-4">
                                        <div class="relative">
                                            <div class="w-16 h-16 rounded-full border-4 border-${color}-400 flex items-center justify-center bg-${color}-400/10 animate-pulse">
                                                <span class="text-${color}-400 font-bold text-lg">${level}</span>
                                            </div>
                                            <div class="absolute -top-2 -right-2 w-6 h-6 bg-blue-400 rounded-full animate-pulse"></div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold text-white">Threat Level: ${level}</div>
                                            <div class="text-${color}-400 text-lg">Risk Score: ${score.toFixed(1)}/100</div>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-cyan-400 font-mono text-2xl">${confidence.toFixed(1)}%</div>
                                        <div class="text-blue-200 text-sm">Confidence</div>
                                    </div>
                                </div>
                                
                                <div class="mb-6">
                                    <div class="flex justify-between text-sm text-blue-200 mb-2">
                                        <span>Threat Assessment Progress</span>
                                        <span>${score.toFixed(1)}%</span>
                                    </div>
                                    <div class="w-full bg-black/40 rounded-full h-3 relative overflow-hidden">
                                        <div class="h-full bg-gradient-to-r from-${color}-400 to-${color}-600 rounded-full transition-all duration-1000 animate-pulse" style="width: ${score}%"></div>
                                        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-data-flow"></div>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                                    <div class="text-center p-3 bg-black/20 rounded-xl border border-blue-500/20">
                                        <div class="text-cyan-400 font-bold text-lg">${patterns.hate || 0}</div>
                                        <div class="text-blue-200 text-sm">Hate Patterns</div>
                                    </div>
                                    <div class="text-center p-3 bg-black/20 rounded-xl border border-purple-500/20">
                                        <div class="text-purple-400 font-bold text-lg">${patterns.violence || 0}</div>
                                        <div class="text-blue-200 text-sm">Violence Refs</div>
                                    </div>
                                    <div class="text-center p-3 bg-black/20 rounded-xl border border-yellow-500/20">
                                        <div class="text-yellow-400 font-bold text-lg">${patterns.discrimination || 0}</div>
                                        <div class="text-blue-200 text-sm">Bias Indicators</div>
                                    </div>
                                    <div class="text-center p-3 bg-black/20 rounded-xl border border-green-500/20">
                                        <div class="text-green-400 font-bold text-lg">${patterns.positive || 0}</div>
                                        <div class="text-blue-200 text-sm">Positive Markers</div>
                                    </div>
                                </div>
                                
                                <div class="p-4 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 rounded-xl border border-blue-500/20">
                                    <div class="text-white font-semibold mb-2">🧠 Neural Analysis Summary</div>
                                    <div class="text-blue-200 text-sm leading-relaxed">
                                        ${this.generateAnalysisSummary(analysis)}
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Detailed Metrics -->
                            <div class="glass-advanced rounded-2xl p-6 border border-white/10">
                                <h3 class="text-lg font-bold text-white mb-4">Quantum Metrics Dashboard</h3>
                                <canvas id="metricsChart" width="400" height="200" class="w-full h-32 bg-black/20 rounded-xl"></canvas>
                            </div>
                        </div>
                        
                        <!-- Advanced Analytics Sidebar -->
                        <div class="space-y-6">
                            <!-- Processing Stats -->
                            <div class="glass-advanced rounded-2xl p-6 border border-white/10">
                                <h3 class="text-lg font-bold text-white mb-4 flex items-center">
                                    <svg class="w-5 h-5 mr-2 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    Processing Stats
                                </h3>
                                <div class="space-y-3 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-blue-200">Processing Time</span>
                                        <span class="text-cyan-400">${processingTime}s</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-blue-200">Words Analyzed</span>
                                        <span class="text-purple-400">${wordCount.toLocaleString()}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-blue-200">Neural Activations</span>
                                        <span class="text-yellow-400">${Math.floor(Math.random() * 10000).toLocaleString()}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-blue-200">Model Consensus</span>
                                        <span class="text-green-400">${(Math.random() * 5 + 8).toFixed(1)}/12</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Risk Factors -->
                            <div class="glass-advanced rounded-2xl p-6 border border-white/10">
                                <h3 class="text-lg font-bold text-white mb-4">Risk Assessment</h3>
                                <div class="space-y-3">
                                    ${this.generateRiskFactors(analysis)}
                                </div>
                            </div>
                            
                            <!-- Recommendations -->
                            <div class="glass-advanced rounded-2xl p-6 border border-white/10">
                                <h3 class="text-lg font-bold text-white mb-4">AI Recommendations</h3>
                                <div class="space-y-3 text-sm">
                                    ${this.generateRecommendations(analysis)}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateAnalysisSummary(analysis) {
                const { score, level, patterns } = analysis;
                
                if (score < 30) {
                    return "Content analysis reveals minimal risk indicators. The text demonstrates positive communication patterns with respectful language and constructive intent. Neural pattern recognition shows high alignment with safe communication standards.";
                } else if (score < 60) {
                    return "Moderate risk assessment indicates some potentially concerning language patterns. While not overtly harmful, the content contains elements that warrant careful review. Context analysis suggests mixed intent with both constructive and potentially divisive elements.";
                } else {
                    return "High-risk content detected with multiple threat indicators present. The text contains language patterns associated with hate speech, discrimination, or harmful intent. Immediate human review recommended for content moderation decisions.";
                }
            }

            generateRiskFactors(analysis) {
                const factors = [];
                
                if (analysis.patterns.hate > 0) {
                    factors.

                            <form id="analysisForm" class="space-y-6">
                    <div class="relative">
                        <div class="absolute top-4 right-4 flex items-center space-x-2 z-10">
                            <button type="button" id="voiceInput" class="p-2 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg text-blue-300 transition-all">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                            <button type="button" id="pasteBtn" class="p-2 bg-purple-500/20 hover:bg-purple-500/30 rounded-lg text-purple-300 transition-all">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M8 2a1 1 0 000 2h2a1 1 0 100-2H8z"/>
                                    <path d="M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5z"/>
                                </svg>
                            </button>
                        </div>
                        <textarea 
                            id="textInput" 
                            placeholder="Neural Sentinel is analyzing... Enter your text for quantum-level hate speech detection..."
                            class="w-full h-80 px-6 py-4 bg-black/30 border border-blue-500/30 rounded-2xl text-white placeholder-blue-300/60 resize-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent backdrop-blur-sm transition-all duration-300 neural-node font-mono text-sm leading-relaxed"
                            maxlength="10000"
                        ></textarea>
                        <div class="absolute bottom-4 left-6 right-6 flex justify-between items-center">
                            <div class="flex items-center space-x-4 text-xs">
                                <div class="flex items-center space-x-2 text-blue-300">
                                    <div class="w-2 h-2 bg-blue-400 rounded-full animate-pulse"></div>
                                    <span>Live Analysis</span>
                                </div>
                                <div id="wordCount" class="text-cyan-300">Words: 0</div>
                                <div id="sentenceCount" class="text-purple-300">Sentences: 0</div>
                            </div>
                            <div class="text-blue-300/70 text-xs" id="charCount">0 / 10,000</div>
                        </div>
                    </div>

                    <!-- Advanced Configuration Panel -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="space-y-2">
                            <label class="block text-blue-200 text-sm font-semibold">Neural Model</label>
                            <select id="modelSelect" class="w-full px-4 py-3 bg-black/40 border border-blue-500/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-400 neural-node">
                                <option value="quantum">🧠 Quantum Ensemble</option>
                                <option value="transformer">🤖 Transformer-XL</option>
                                <option value="neural">⚡ Neural Lightning</option>
                                <option value="bert">📚 BERT-Advanced</option>
                                <option value="custom">🔬 Custom Model</option>
                            </select>
                        </div>
                        <div class="space-y-2">
                            <label class="block text-blue-200 text-sm font-semibold">Sensitivity Level</label>
                            <div class="relative">
                                <input type="range" id="sensitivitySlider" min="0" max="100" value="75" class="w-full h-2 bg-black/40 rounded-lg appearance-none slider">
                                <div class="flex justify-between text-xs text-blue-300 mt-1">
                                    <span>Conservative</span>
                                    <span id="sensitivityValue">75%</span>
                                    <span>Aggressive</span>
                                </div>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label class="block text-blue-200 text-sm font-semibold">Analysis Mode</label>
                            <select id="modeSelect" class="w-full px-4 py-3 bg-black/40 border border-blue-500/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-400">
                                <option value="comprehensive">🔍 Comprehensive Scan</option>
                                <option value="realtime">⚡ Real-time Monitor</option>
                                <option value="forensic">🧪 Forensic Analysis</option>
                                <option value="predictive">🔮 Predictive Mode</option>
                            </select>
                        </div>
                    </div>

                    <!-- Advanced Analysis Button -->
                    <button 
                        type="submit" 
                        id="analyzeBtn"
                        class="w-full px-8 py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 hover:from-blue-500 hover:via-purple-500 hover:to-cyan-500 text-white font-bold rounded-2xl shadow-2xl hover:shadow-cyan-500/25 transform hover:scale-105 transition-all duration-300 flex items-center justify-center space-x-3 relative overflow-hidden quantum-border"
                    >
                        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 animate-data-flow"></div>
                        <svg class="w-6 h-6 animate-neural-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        <span>INITIATE QUANTUM ANALYSIS</span>
                        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                    </button>
                </form>
            </div>

            <!-- Real-time System Status -->
            <div class="space-y-6">
                <!-- AI Status Panel -->
                <div class="glass-advanced rounded-2xl p-6 border border-white/10">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-green-400 animate-pulse" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        System Status
                    </h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex justify-between items-center">
                            <span class="text-blue-200">Neural Core</span>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                <span class="text-green-400">Active</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-blue-200">Quantum Processor</span>
                            <span class="text-cyan-400">99.7% Efficiency</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-blue-200">Memory Usage</span>
                            <span class="text-yellow-400">2.4GB / 32GB</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-blue-200">Threat Database</span>
                            <span class="text-purple-400">Updated 0.1s ago</span>
                        </div>
                    </div>
                </div>

                <!-- Live Metrics -->
                <div class="glass-advanced rounded-2xl p-6 border border-white/10">
                    <h3 class="text-lg font-bold text-white mb-4">Live Metrics</h3>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-blue-200">Processing Speed</span>
                                <span class="text-cyan-400">1,247 words/sec</span>
                            </div>
                            <div class="w-full bg-black/40 rounded-full h-2">
                                <div class="bg-gradient-to-r from-cyan-400 to-blue-400 h-2 rounded-full animate-pulse" style="width: 85%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-blue-200">Accuracy Rate</span>
                                <span class="text-green-400">99.2%</span>
                            </div>
                            <div class="w-full bg-black/40 rounded-full h-2">
                                <div class="bg-gradient-to-r from-green-400 to-emerald-400 h-2 rounded-full" style="width: 99%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-blue-200">Neural Load</span>
                                <span class="text-purple-400">34%</span>
                            </div>
                            <div class="w-full bg-black/40 rounded-full h-2">
                                <div class="bg-gradient-to-r from-purple-400 to-pink-400 h-2 rounded-full animate-pulse" style="width: 34%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Threat Level Indicator -->
                <div class="glass-advanced rounded-2xl p-6 border border-white/10 holographic">
                    <h3 class="text-lg font-bold text-white mb-4">Global Threat Level</h3>
                    <div class="text-center">
                        <div class="relative w-24 h-24 mx-auto mb-4">
                            <div class="absolute inset-0 rounded-full border-4 border-green-400/30"></div>
                            <div class="absolute inset-0 rounded-full border-4 border-green-400 border-t-transparent animate-spin"></div>
                            <div class="absolute inset-4 rounded-full bg-green-400/20 flex items-center justify-center">
                                <span class="text-green-400 font-bold text-lg">LOW</span>
                            </div>
                        </div>
                        <div class="text-green-400 text-sm">Minimal Risk Detected</div>
                        <div class="text-blue-200 text-xs mt-1">Last updated: 2s ago</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Advanced Results Dashboard -->
        <div class="glass-advanced rounded-3xl p-8 border border-white/10 mb-8">
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h2 class="text-2xl font-bold text-white mb-2 flex items-center">
                        <svg class="w-6 h-6 mr-3 text-cyan-400 animate-neural-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                        </svg>
                        Quantum Analysis Dashboard
                    </h2>
                    <p class="text-blue-200">Multi-dimensional threat assessment and neural pattern analysis</p>
                </div>
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-blue-400 rounded-full animate-pulse"></div>
                    <span class="text-blue-300 text-sm">Real-time Processing</span>
                </div>
            </div>

            <div id="resultsContainer">
                <div id="noResults" class="text-center py-16">
                    <div class="relative">
                        <canvas id="neuralViz" width="300" height="200" class="mx-auto mb-6"></canvas>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="text-center">
                                <div class="text-6xl mb-4 animate-float">🧠</div>
                                <p class="text-cyan-300 text-xl mb-2">Neural Sentinel Ready</p>
                                <p class="text-blue-300">Input text above to begin quantum-level analysis</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="loadingState" class="hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Processing Visualization -->
                        <div class="text-center py-8">
                            <div class="relative w-32 h-32 mx-auto mb-6">
                                <div class="absolute inset-0 rounded-full border-4 border-blue-400/30 animate-spin"></div>
                                <div class="absolute inset-2 rounded-full border-4 border-purple-400/30 animate-spin" style="animation-direction: reverse;"></div>
                                <div class="absolute inset-4 rounded-full border-4 border-cyan-400/30 animate-spin"></div>
                                <div class="absolute inset-6 rounded-full bg-gradient-to-r from-blue-400 to-cyan-400 flex items-center justify-center animate-pulse">
                                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="text-cyan-300 text-xl font-bold">Neural Processing Active</div>
                                <div id="processingStage" class="text-blue-300">Initializing quantum analysis...</div>
                                <div id="processingProgress" class="text-purple-300">0%</div>
                            </div>
                        </div>

                        <!-- Live Processing Steps -->
                        <div class="space-y-4">
                            <div class="text-white font-semibold mb-4">Analysis Pipeline</div>
                            <div class="space-y-3" id="processingSteps">
                                <!-- Steps will be populated dynamically -->
                            </div>
                        </div>
                    </div>